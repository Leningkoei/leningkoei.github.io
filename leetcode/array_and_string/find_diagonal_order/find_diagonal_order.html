<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>对角线遍历</title>
        <link href="../../css/problem_style_kai.css" rel="stylesheet">
        <script src="../../src/main.js" async></script>
        <script src="src/main.js" async></script>
    </head>
    <body onload="CREATE_BODY.main()">
        <p id="code">this.findDiagonalOrder = function(mat) {
    var dircetion = false;
    var xMax = mat[0].length;
    var yMax = mat.length;
    // 先开辟内存空间似乎可以节省时间和内存;
    var result = new Array(yMax * xMax);
    var i = 0;
    const findDiagonalOrderKai = function(x, y) {
        if (x >= xMax - 1 && y >= yMax - 1) {
            result[i] = mat[y][x];
            return;
        }
        if ((x === 0 || y + 1 >= yMax) && dircetion) {
            dircetion = false;
            if (y + 1 >= yMax) {
                result[i++] = mat[y][x];
                findDiagonalOrderKai(x + 1, y);
            } else {
                result[i++] = mat[y][x];
                findDiagonalOrderKai(x, y + 1);
            }
            return;
        } else if ((y === 0 || x + 1 >= xMax) && !dircetion) {
            dircetion = true;
            if (x + 1 >= xMax) {
                result[i++] = mat[y][x];
                findDiagonalOrderKai(x, y + 1);
            } else {
                result[i++] = mat[y][x];
                findDiagonalOrderKai(x + 1, y);
            }
            return;
        }
        if (dircetion) {
            result[i++] = mat[y][x];
            findDiagonalOrderKai(x - 1, y + 1);
            return;
        } else {
            result[i++] = mat[y][x];
            findDiagonalOrderKai(x + 1, y - 1);
            return;
        }
    }
    findDiagonalOrderKai(0, 0);
    return result;
}
</p>
    </body>
</html>
